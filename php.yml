version: '3.7'
services:
  php:
    image: app/php:7.2-fpm
    container_name: app_php
    build:
      context: .
      dockerfile: ${DOCKER_SERVICE}/php/v7.2/Dockerfile      
    volumes:
      - ${APP_PATH}:/app:rw  # 默认工作目录: /var/www/html
      - ${DOCKER_SERVICE}/php/v7.2/php.ini:/usr/local/etc/php/php.ini:rw
      - ${DOCKER_SERVICE}/php/v7.2/php-fpm.conf:/usr/local/etc/php-fpm.conf:rw
      - ${DOCKER_SERVICE}/php/v7.2/php-fpm.d:/usr/local/etc/php-fpm.d:rw
    restart: always
    command: php-fpm
    networks:
      - app

networks:
  app:
    name: app # `docker network ls` 查询 && 根据实际填写